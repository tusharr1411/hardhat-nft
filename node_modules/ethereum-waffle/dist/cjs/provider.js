"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const ganache_core_1 = __importDefault(require("ganache-core"));
const ethers_1 = require("ethers");
const defaultAccounts_1 = __importDefault(require("./config/defaultAccounts"));
const defaultGanacheOptions = { accounts: defaultAccounts_1.default };
function createMockProvider(ganacheOptionsOrPathToConfig = {}) {
    const ganacheOptions = getGanacheOptions(ganacheOptionsOrPathToConfig);
    const options = { ...defaultGanacheOptions, ...ganacheOptions };
    return new ethers_1.providers.Web3Provider(ganache_core_1.default.provider(options));
}
exports.createMockProvider = createMockProvider;
function getGanacheOptions(ganacheOptionsOrPathToConfig) {
    if (typeof ganacheOptionsOrPathToConfig === 'object') {
        return ganacheOptionsOrPathToConfig;
    }
    // eslint-disable-next-line @typescript-eslint/no-var-requires
    const { ganacheOptions } = require(ganacheOptionsOrPathToConfig);
    return ganacheOptions;
}
exports.getGanacheOptions = getGanacheOptions;
function getWallets(provider) {
    return defaultAccounts_1.default.map((account) => new ethers_1.Wallet(account.secretKey, provider));
}
exports.getWallets = getWallets;
